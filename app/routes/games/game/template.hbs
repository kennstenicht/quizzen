<Application::Headline>
  Quizzen mit {{@model.quizMaster.nickname}}
</Application::Headline>

<Ui::Window
  {{did-insert (fn this.subscribe @model)}}
  {{will-destroy this.unsubscribe}}
>
  <:title>
    {{@model.title}}
  </:title>

  <:body>
    Quiz Master: {{@model.quizMaster.displayLabel}}
    <br><br>
    {{#if this.session.isAuthenticated}}
      {{#if @model.joined}}
        Du bist im Game! Warte bis es los geht.<br><br>
      {{else}}
        <Ui::Button
          @onClick={{this.join}}
          @label="Join"
          @style="primary"
        />
      {{/if}}
    {{else}}
      <Ui::Button
        @onClick={{this.transitionToLogin}}
        @label="Login"
        @style="primary"
      />
    {{/if}}
    <br><br>
    <strong>Players:</strong><br>
    {{#each @model.users as |user|}}
      <Ui::Avatar @user={{user}} />
    {{/each}}
  </:body>
</Ui::Window>
